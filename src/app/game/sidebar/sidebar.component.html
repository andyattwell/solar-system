<!-- <mat-tab-group [selectedIndex]="1"> -->
<div id="preview">
  @if(previewData) {
    <app-preview 
      [model]="previewData.model"
      [timeScale]="timeScale"
      [size]="previewData.size"
      [rotate]="previewData.rotate"
      [rotationDir]="previewData.dir"
      [rotationSpeed]="previewData.rotationSpeed"
      [type]="previewData.type"
    ></app-preview>
  }
</div>
<mat-tab-group [selectedIndex]="selectedTabIndex" (selectedTabChange)="onTabChanged($event);">
  <mat-tab label="Planet Info">
    @if (planet) {
      <h1>{{ planet.name }}
        <button type="button" class="close-info" mat-mini-fab aria-label="Close" (click)="close($event)">
          <mat-icon>close</mat-icon>
        </button>
      </h1>
      <!-- <app-preview 
        [model]="planet.planet" 
        [timeScale]="timeScale"
        [size]="planet.size"
        [rotate]="planet.rotate"
        [rotationDir]="planet.rotationDir"
        [rotationSpeed]="planet.rotationSpeed"
        ></app-preview> -->
      <div class="info-content">
        <mat-list>
    
          <mat-list-item> 
            <app-value-control label="Position">
    
              <div class="row">
                <span class="col title">X</span>
                <span class="col title">Y</span>
                <span class="col title">Z</span>
              </div>
              <div class="row">
                <span class="col">{{ position.x }}</span>
                <span class="col">{{ position.y }}</span>
                <span class="col">{{ position.z }}</span>
              </div>
    
            </app-value-control>
          </mat-list-item>
          
          <mat-list-item> 
            <app-value-control label="PositionHelper">
              <mat-checkbox
                [checked]="positionHelperEnable"
                (change)="togglePositionHelper($event.checked)"
              ></mat-checkbox>
            </app-value-control>
          </mat-list-item>
    
          <mat-list-item>
            <app-value-control 
              label="Size" 
              [value]="planet.size"
              (change)="changeSize($event)"
              >
            </app-value-control>
          </mat-list-item>
    
          <mat-list-item> 
            <app-value-control label="Rotate">
              <mat-checkbox
                [checked]="planet.rotate"
                (change)="setRotate($event.checked)"
              ></mat-checkbox>
            </app-value-control>
          </mat-list-item>
    
          <mat-list-item> 
            <app-value-control label="Rotation Direction">
              <mat-checkbox
                [checked]="rotationDir"
                (change)="setRotationDir($event.checked)"
              ></mat-checkbox>
            </app-value-control>
          </mat-list-item>
    
          <mat-list-item>
            <app-value-control 
              label="Rotation speed" 
              [value]="rotation"
              (change)="changeRotationSpeed($event)"
              >
            </app-value-control>
          </mat-list-item>
    
          <mat-list-item>
            <app-value-control label="Show orbit">
              <mat-checkbox
                [checked]="showOrbit"
                (change)="setShowOrbit($event.checked)"
              ></mat-checkbox>
            </app-value-control>
          </mat-list-item>
    
          <mat-list-item> 
            <app-value-control label="Follow orbit">
              <mat-checkbox
                [checked]="followOrbit"
                (change)="setFollowOrbit($event.checked)"
              ></mat-checkbox>
            </app-value-control>
          </mat-list-item>
    
          <mat-list-item>
            <app-value-control 
              label="Orbit speed" 
              [value]="orbitSpeed"
              (change)="changeOrbitSpeed($event)"
              >
            </app-value-control>
          </mat-list-item>
          
          <mat-list-item>
            <app-value-control 
              label="Orbit size" 
              [value]="orbit"
              (change)="changeOrbit($event)"
              [step]="1"
              >
            </app-value-control>
          </mat-list-item>
    
        </mat-list>
      </div>
    }
  </mat-tab>
  <mat-tab label="Player Info">
    @if (player) {
      <h1>Player
        <button type="button" class="close-info" mat-mini-fab aria-label="Close" (click)="close($event)">
          <mat-icon>close</mat-icon>
        </button>
      </h1>
    
      <!-- <app-preview 
        [model]="player.mesh"
        [timeScale]="timeScale"
        [size]="1"
        [rotate]="true"
        [rotationDir]="true"
        [rotationSpeed]="0.01"
        [type]="'player'"
      ></app-preview> -->
      <div class="info-content">
        <mat-list>
    
          <mat-list-item> 
            <app-value-control label="Position">
    
              <div class="row">
                <span class="col title">X</span>
                <span class="col title">Y</span>
                <span class="col title">Z</span>
              </div>
              <div class="row">
                <span class="col">{{ player.position.x }}</span>
                <span class="col">{{ player.position.y }}</span>
                <span class="col">{{ player.position.z }}</span>
              </div>
    
            </app-value-control>
          </mat-list-item>

          <mat-list-item>
            <app-value-control 
              label="Size" 
              [value]="player.size"
              (change)="changeSize($event)"
              >
            </app-value-control>
          </mat-list-item>
    
          <mat-list-item>
            <app-value-control 
              label="Rotation Y" 
              [value]="player.rotation.y"
              (change)="changePlayerRotation($event)"
              [step]="0.1"
              >
            </app-value-control>
          </mat-list-item>
        </mat-list>
      </div>
    }
  </mat-tab>
</mat-tab-group>
